<!DOCTYPE html>
<html>
    <head>
        <title>404 – Page not found</title>
    </head>
    <body>
        <iframe id="homepage"></iframe>
        <div id="container">
            <center>
                <h1 id="header">404 – Page not found</h1>
                <button id="button">Go to homepage</button>
            </center>
        </div>
    </body>
</html>
<script>
    ;(function(){
        var container = document.getElementById("container");
        var header = document.getElementById("header");
        var button = document.getElementById("button");
        var homepage = document.getElementById("homepage");

        var original_homepage_dsp = homepage.style.display;
        homepage.style.display = "none";
        
        var homepage_loaded = false;
        homepage.onload = function(){
            homepage_loaded = true;
        }

        document.body.style.backgroundColor = "#f0eee6";
        document.body.style.margin = "0px";

        document.body.style.userSelect = "none";
        document.body.style.webkitUserSelect = "none";
        document.body.style.mozUserSelect = "none";
        document.body.style.msUserSelect = "none";

        container.style.backgroundColor = "#e3dacc";
        container.style.position = "absolute";
        
        header.style.fontFamily = "Arial";
        button.style.backgroundColor = "rgb(40,40,40)";
        button.style.color = "rgb(255,255,255)";
        button.style.fontFamily = "Arial";
        button.style.border = "0px"

        button.onmouseover = function(){
            button.style.backgroundColor = "#bcb6ff";
            button.style.color = "rgb(0,0,0)";
        }
        button.onmouseout = function(){
            button.style.backgroundColor = "rgb(40,40,40)";
            button.style.color = "rgb(255,255,255)";
        }

        window.onresize = function(){
            var sizeFactor = window.innerWidth * window.innerHeight / 10000;

            header.style.fontSize = sizeFactor / 2 + "px";
            container.style.borderRadius = sizeFactor / 16 + "px";

            try{
                button.style.fontSize = sizeFactor / 3 + "px";
                button.style.borderRadius = sizeFactor / 16 + "px";
            }
            catch (error){}

            container.style.padding = sizeFactor / 16 + "px"

            container.style.marginLeft = window.innerWidth / 2 - container.offsetWidth / 2 + "px";
            container.style.marginTop = window.innerHeight / 2 - container.offsetHeight / 2 + "px";
        }
        window.onresize();

        var wait = async function(ms){
            return new Promise(function(resolve, reject){
                setTimeout(resolve, ms);
            })
        }

        button.onclick = async function(){
            homepage.src = "/"

            button.remove();
            header.innerHTML = "Loading...";

            window.onresize();

            while (!homepage_loaded){
                await wait(10); //wait till page is loaded.
            }

            homepage.style.display = original_homepage_dsp;

            homepage.style.border = "0px";
            homepage.style.position = "absolute";
            container.remove();
            window.onresize = function(){
                homepage.style.width = window.innerWidth + "px";
                homepage.style.height = window.innerHeight + "px";
            }
            window.onresize();
        }
    })();
</script>
